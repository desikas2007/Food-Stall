<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Menu - Food Stall</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
body { 
  font-family: 'Inter', sans-serif; 
  overflow-x: hidden; 
  background: linear-gradient(rgba(12,25,40,0.45), rgba(12,25,40,0.45)), url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=1600&q=80'); 
  background-size: cover; 
  color: white; 
  min-height: 100vh; 
}
header { 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  padding: 20px; 
  background: rgba(0,0,0,0.5); 
  animation: fadeIn 1s ease-in-out; 
}
header h1 { 
  font-size: 28px; 
}
header button { 
  padding: 10px 20px; 
  background: crimson; 
  color: white; 
  border: none; 
  border-radius: 8px; 
  cursor: pointer; 
  font-weight: bold; 
  transition: transform 0.3s ease, background 0.3s ease; 
}
header button:hover { 
  transform: scale(1.1); 
  background: #a70000; 
}
.search-container {
  display: flex;
  align-items: center;
  gap: 10px;
}
.search-container input {
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.2);
  color: white;
  font-family: 'Inter', sans-serif;
  font-size: 16px;
  width: 200px;
  transition: width 0.3s ease, background 0.3s ease;
}
.search-container input::placeholder {
  color: rgba(255, 255, 255, 0.7);
}
.search-container input:focus {
  outline: none;
  background: rgba(255, 255, 255, 0.3);
  width: 250px;
}
.search-container button {
  padding: 10px;
  background: #00b894;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.3s ease, background 0.3s ease;
}
.search-container button:hover {
  background: #019870;
  transform: scale(1.05);
}
.container { 
  display: flex; 
  flex-wrap: wrap; 
  justify-content: center; 
  gap: 20px; 
  padding: 40px; 
  position: relative;
}
.card { 
  background: rgba(255,255,255,0.1); 
  border-radius: 12px; 
  padding: 20px; 
  width: 250px; 
  text-align: center; 
  backdrop-filter: blur(5px); 
  opacity: 0; 
  transform: translateY(50px); 
  animation: slideUp 0.5s ease forwards; 
  animation-delay: calc(var(--index) * 0.1s); 
  transition: transform 0.3s ease, box-shadow 0.3s ease; 
  cursor: pointer;
  position: relative;
  user-select: none;
}
.card.swapping {
  animation: swapAnimation 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  z-index: 10;
}
.card.touched {
  transform: scale(0.95);
  box-shadow: 0 0 20px rgba(0, 184, 148, 0.5);
}
.card img { 
  width: 100%; 
  border-radius: 10px; 
  height: 150px; 
  object-fit: cover; 
  transition: transform 0.3s ease;
}
.card:hover img {
  transform: scale(1.05);
}
.card button { 
  margin: 5px; 
  background: #00b894; 
  padding: 8px 16px; 
  border: none; 
  border-radius: 6px; 
  color: white; 
  font-weight: bold; 
  cursor: pointer; 
  transition: transform 0.3s ease, background 0.3s ease; 
}
.card button:hover { 
  background: #019870; 
  transform: scale(1.05); 
}
.card:hover:not(.swapping):not(.touched) { 
  transform: translateY(-10px); 
  box-shadow: 0 8px 16px rgba(0,0,0,0.3); 
}
@keyframes fadeIn { 
  from { opacity: 0; transform: translateY(-20px); } 
  to { opacity: 1; transform: translateY(0); } 
}
@keyframes slideUp { 
  from { opacity: 0; transform: translateY(50px); } 
  to { opacity: 1; transform: translateY(0); } 
}
@keyframes swapAnimation {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  20% {
    transform: scale(0.9);
    opacity: 0.8;
  }
  40% {
    transform: translateY(-20px) scale(0.9);
    opacity: 0.8;
  }
  60% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}
@keyframes swapSlide {
  0% { transform: translateX(0) translateY(0); }
  50% { transform: translateX(var(--swap-x)) translateY(var(--swap-y)); }
  100% { transform: translateX(0) translateY(0); }
}
.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.7);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease;
}
.loading-overlay.show {
  opacity: 1;
  visibility: visible;
}
.loading-spinner {
  width: 50px;
  height: 50px;
  border: 4px solid rgba(255,255,255,0.3);
  border-top: 4px solid #00b894;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
</head>
<body>

<header>
  <h1>üçÉ Cool Breeze Food Stall</h1>
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search menu..." oninput="filterMenu()">
    <button onclick="clearSearch()">Clear</button>
  </div>
  <button onclick="logout()">Logout</button>
</header>

<div class="container" id="menuCards"></div>

<div class="loading-overlay" id="loadingOverlay">
  <div class="loading-spinner"></div>
</div>

<script>
const foods = [
  {name:"Masala Dosa", zomatoPrice:80, swiggyPrice:85, img:"https://png.pngtree.com/thumb_back/fh260/background/20250618/pngtree-masala-dosa-crispy-indian-crepe-filled-with-spiced-potatoes-image_17438896.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-masala-dosa", swiggy:"https://www.swiggy.com/city/coimbatore/masala-dosa-dish-restaurants"},
  {name:"Paneer Butter Masala", zomatoPrice:150, swiggyPrice:155, img:"https://static.vecteezy.com/system/resources/previews/053/315/226/non_2x/delicious-paneer-butter-masala-indian-dish-with-naan-photo.jpeg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-paneer-butter-masala", swiggy:"https://www.swiggy.com/city/coimbatore/paneer-butter-masala-dish-restaurants"},
  {name:"Veg Biryani", zomatoPrice:120, swiggyPrice:125, img:"https://i.ytimg.com/vi/Do7ZdUodDdw/hq720.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-veg-biryani", swiggy:"https://www.swiggy.com/city/coimbatore/veg-biryani-dish-restaurants"},
  {name:"Idli Sambar", zomatoPrice:60, swiggyPrice:65, img:"https://static.toiimg.com/thumb/msid-113810989,width-1280,height-720,resizemode-4/113810989.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-idli", swiggy:"https://www.swiggy.com/city/coimbatore/idli-sambar-dish-restaurants"},
  {name:"Chicken Curry", zomatoPrice:180, swiggyPrice:185, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQgSA146aPPQY-9_jiSHNcdR1Rm2aHwjNgXg&s", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/chicken-curry-dish-restaurants"},
  {name:"Vada Pav", zomatoPrice:40, swiggyPrice:45, img:"https://media.istockphoto.com/id/1329213718/photo/vada-pav.jpg?s=612x612&w=0&k=20&c=Yy3pm53KrPAnZXL9weCJDzXjxa2My34oVFx7RBCPmZ8=", zomato:"https://www.zomato.com/coimbatore/delivery/dish-vada-pav", swiggy:"https://www.swiggy.com/city/coimbatore/vada-pav-dish-restaurants"},
  {name:"Samosa", zomatoPrice:30, swiggyPrice:35, img:"https://static.vecteezy.com/system/resources/thumbnails/028/857/626/small/samosa-curry-stuffed-with-methi-diwali-stock-images-realistic-stocks-photo.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-samosa", swiggy:"https://www.swiggy.com/city/coimbatore/samosa-dish-restaurants"},
  {name:"Chole Bhature", zomatoPrice:110, swiggyPrice:115, img:"https://indaroma.com/wp-content/uploads/2024/02/Chole-Bhatura-1-scaled.jpeg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-chole-bhature", swiggy:"https://www.swiggy.com/city/coimbatore/chole-bhature-dish-restaurants"},
  {name:"Pav Bhaji", zomatoPrice:90, swiggyPrice:95, img:"https://www.cubesnjuliennes.com/wp-content/uploads/2020/07/Instant-Pot-Mumbai-Pav-Bhaji-Recipe.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-pav-bhaji", swiggy:"https://www.swiggy.com/city/coimbatore/pav-bhaji-dish-restaurants"},
  {name:"Momos", zomatoPrice:70, swiggyPrice:75, img:"https://static.india.com/wp-content/uploads/2024/12/FEATURE-2024-12-15T174448.090.jpg", zomato:"https://www.zomato.com/coimbatore/restaurants/momos", swiggy:"https://www.swiggy.com/city/coimbatore/momos-dish-restaurants"},
  {name:"Tandoori Chicken", zomatoPrice:200, swiggyPrice:205, img:"https://www.cubesnjuliennes.com/wp-content/uploads/2022/12/Tandoori-Chicken-Recipe.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-tandoori-chicken", swiggy:"https://www.swiggy.com/city/coimbatore/tandoori-chicken-dish-restaurants"},
  {name:"Dal Makhani", zomatoPrice:130, swiggyPrice:135, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT9NubCId4fEYLxIPftzNJxJ791AmypuHopsA&s", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/dal-makhani-dish-restaurants"},
  {name:"Gulab Jamun", zomatoPrice:90, swiggyPrice:95, img:"https://sharmanjainsweets.com/cdn/shop/articles/Untitled_design_eb07557c-e535-4bdf-9063-8a1f1cffa58c.png", zomato:"https://www.zomato.com/coimbatore/delivery/dish-gulab-jamun", swiggy:"https://www.swiggy.com/city/coimbatore/gulab-jamun-dish-restaurants"},
  {name:"Rasmalai", zomatoPrice:120, swiggyPrice:125, img:"https://static.toiimg.com/thumb/68358712.cms?imgsize=403497&width=800&height=800", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/rasmalai-dish-restaurants"},
  {name:"Pani Puri", zomatoPrice:50, swiggyPrice:55, img:"https://i2.wp.com/wp-backend.thefearlesscooking.com/wp-content/uploads/2022/03/WhatsApp-Image-2022-03-10-at-4.45.10-PM.jpeg?fit=1536%2C1024&ssl=1", zomato:"https://www.zomato.com/coimbatore/babu-pani-puri-stall-rs-puram", swiggy:"https://www.swiggy.com/city/coimbatore/pani-puri-dish-restaurants"},
  {name:"Aloo Paratha", zomatoPrice:70, swiggyPrice:75, img:"https://static.toiimg.com/thumb/msid-116197611,width-1280,height-720,resizemode-4/116197611.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/aloo-paratha-dish-restaurants"},
  {name:"Butter Chicken", zomatoPrice:190, swiggyPrice:195, img:"https://images.unsplash.com/photo-1603894584373-5ac82b2ae398", zomato:"https://www.zomato.com/coimbatore/delivery/dish-butter-chicken", swiggy:"https://www.swiggy.com/city/coimbatore/butter-chicken-dish-restaurants"},
  {name:"Pongal", zomatoPrice:65, swiggyPrice:70, img:"https://www.indianhealthyrecipes.com/wp-content/uploads/2022/05/ven-pongal-recipe.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/pongal-dish-restaurants"},
  {name:"Chicken Biryani", zomatoPrice:160, swiggyPrice:165, img:"https://www.cubesnjuliennes.com/wp-content/uploads/2020/07/Chicken-Biryani-Recipe.jpg", zomato:"https://www.zomato.com/coimbatore/delivery/dish-chicken-biryani", swiggy:"https://www.swiggy.com/city/coimbatore/chicken-biryani-dish-restaurants"},
  {name:"Puri Masala", zomatoPrice:80, swiggyPrice:85, img:"https://thewhiskaddict.com/wp-content/uploads/2025/01/IMG_1451-scaled.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/puri-masala-dish-restaurants"},
  {name:"Fish Fry", zomatoPrice:140, swiggyPrice:145, img:"https://www.thetakeiteasychef.com/wp-content/uploads/2017/12/KFF-FI1-Compressed.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/fish-fry-dish-restaurants"},
  {name:"Vegetable Pulao", zomatoPrice:110, swiggyPrice:115, img:"https://www.cubesnjuliennes.com/wp-content/uploads/2019/11/Veg-Pulao-2.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/vegetable-pulao-dish-restaurants"},
  {name:"Palak Paneer", zomatoPrice:140, swiggyPrice:145, img:"https://www.chefajaychopra.com/assets/img/recipe/1-1666433552palakpaneer1webp.webp", zomato:"https://www.zomato.com/coimbatore/delivery/dish-palak-paneer", swiggy:"https://www.swiggy.com/city/coimbatore/palak-paneer-dish-restaurants"},
  {name:"Dahi Vada", zomatoPrice:60, swiggyPrice:65, img:"https://ministryofcurry.com/wp-content/uploads/2016/08/Dahi-Vada-5.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/dahi-vada-dish-restaurants"},
  {name:"Butter Naan", zomatoPrice:40, swiggyPrice:45, img:"https://fullofplants.com/wp-content/uploads/2023/05/Homemade-Naan-Bread-Restaurant-Style-Vegan-16.jpg", zomato:"https://www.zomato.com/coimbatore/tandoori-spot-gandhipuram/order", swiggy:"https://www.swiggy.com/city/coimbatore/butter-naan-dish-restaurants"},
  {name:"Mutton Rogan Josh", zomatoPrice:220, swiggyPrice:225, img:"https://www.chefkunalkapur.com/wp-content/uploads/2021/03/Mutton-Roganjosh-scaled.jpg?v=1620403558", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/mutton-rogan-josh-dish-restaurants"},
  {name:"Rava Dosa", zomatoPrice:85, swiggyPrice:90, img:"https://www.cookwithmanali.com/wp-content/uploads/2020/06/Crispy-Rava-Dosa.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/rava-dosa-dish-restaurants"},
  {name:"Aloo Tikki", zomatoPrice:50, swiggyPrice:55, img:"https://rustictadka.com/wp-content/uploads/2024/07/1-corn-aloo-tikki-vegan-Indian-snack-recipe-vegetarian-sweet-corn-potato-patty-breakfast-quick-easy-lunch-dinner-tea-time-food-chutney-tomato-ketchup-bhutta-pakoda.png", zomato:"https://www.zomato.com/coimbatore/biggies-burger-saravanampatty/order", swiggy:"https://www.swiggy.com/city/coimbatore/aloo-tikki-dish-restaurants"},
  {name:"Kathi Roll", zomatoPrice:90, swiggyPrice:95, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:GcRxltt8oJkL6WDLhv-KBJWngwp9zsuwge3g7A&s", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/kathi-roll-dish-restaurants"},
  {name:"Jalebi", zomatoPrice:80, swiggyPrice:85, img:"https://encrypted-tbn0.gstatic.com/images?q:GcRgya1Le_4EAm8GKzF9_-J8xgsZbmOsosOAuQ&s", zomato:"https://www.zomato.com/coimbatore/delivery/dish-jalebi", swiggy:"https://www.swiggy.com/city/coimbatore/jalebi-dish-restaurants"},
  {name:"Prawn Masala", zomatoPrice:180, swiggyPrice:185, img:"https://encrypted-tbn0.gstatic.com/images?q:GcSR-Lo-imqZOMAWkacJ18guHYUCudBZqK7GCA&s", zomato:"https://www.zomato.com/coimbatore/cock-ra-co-podanur/order", swiggy:"https://www.swiggy.com/city/coimbatore/prawn-masala-dish-restaurants"},
  {name:"Uttapam", zomatoPrice:90, swiggyPrice:95, img:"https://www.honeywhatscooking.com/wp-content/uploads/2022/06/Rava-Uttapam12.jpg", zomato:"https://www.zomato.com/coimbatore/dosa-hub-1-peelamedu/order", swiggy:"https://www.swiggy.com/city/coimbatore/uttapam-dish-restaurants"},
  {name:"Rajma Chawal", zomatoPrice:100, swiggyPrice:105, img:"https://masalaandchai.com/wp-content/uploads/2025/09/Rajma-Masala.jpg", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/rajma-chawal-dish-restaurants"},
  {name:"Chicken Tikka", zomatoPrice:170, swiggyPrice:175, img:"https://www.krumpli.co.uk/wp-content/uploads/2024/11/Chicken-Tikka-Kebab-Skewers-2-1600-720x405.jpg", zomato:"https://www.zomato.com/coimbatore/cock-ra-co-rs-puram/order", swiggy:"https://www.swiggy.com/city/coimbatore/chicken-tikka-dish-restaurants"},
  {name:"Medu Vada", zomatoPrice:55, swiggyPrice:60, img:"https://madhurasrecipe.com/wp-content/uploads/2021/12/poha_vada_featured.jpg", zomato:"https://www.zomato.com/coimbatore/dosa-hub-1-peelamedu/order", swiggy:"https://www.swiggy.com/city/coimbatore/medu-vada-dish-restaurants"},
  {name:"Shahi Paneer", zomatoPrice:160, swiggyPrice:165, img:"https://recipesblob.oetker.in/assets/6c0ac2f3ce204d3d9bb1df9709fc06c9/1272x764/shahi-paneer.jpg", zomato:"https://www.zomato.com/coimbatore/shahi-grill-kalapatti/order", swiggy:"https://www.swiggy.com/city/coimbatore/shahi-paneer-dish-restaurants"},
  {name:"Lassi", zomatoPrice:50, swiggyPrice:55, img:"https://www.flavourstreat.com/wp-content/uploads/2018/06/masala-lassi.jpg", zomato:"https://www.zomato.com/coimbatore/lassi-club-saibaba-colony/order", swiggy:"https://www.swiggy.com/city/coimbatore/lassi-dish-restaurants"},
  {name:"Mutton Biryani", zomatoPrice:200, swiggyPrice:205, img:"https://encrypted-tbn0.gstatic.com/images?q:GcQsnOxYBAopwRpwqeoMyI_rUWWeL4KZ9EbQkA&s", zomato:"https://www.zomato.com/coimbatore/delivery/dish-mutton-biryani", swiggy:"https://www.swiggy.com/city/coimbatore/mutton-biryani-dish-restaurants"},
  {name:"Gobi Manchurian", zomatoPrice:100, swiggyPrice:105, img:"https://rainbowplantlife.com/wp-content/uploads/2022/02/Gobi-Manchurian-cover-photo-on-white-tile-1-of-1-500x500.jpg", zomato:"https://www.zomato.com/coimbatore/shahi-grill-kalapatti/order", swiggy:"https://www.swiggy.com/city/coimbatore/gobi-manchurian-dish-restaurants"},
  {name:"Kheer", zomatoPrice:90, swiggyPrice:95, img:"https://encrypted-tbn0.gstatic.com/images?q:GcQWq5RkgNtHG4LL98GYxvZaCmwn8gXF5eFl5Q&s", zomato:"https://www.zomato.com/coimbatore/delivery", swiggy:"https://www.swiggy.com/city/coimbatore/kheer-dish-restaurants"},
  {name:"Tandoori Roti", zomatoPrice:30, swiggyPrice:35, img:"https://deliveryraja.com/wp-content/uploads/2024/11/TANDOORI-ROTI-BUTTER.jpeg", zomato:"https://www.zomato.com/coimbatore/tandoori-spot-gandhipuram/order", swiggy:"https://www.swiggy.com/city/coimbatore/tandoori-roti-dish-restaurants"},
  {name:"Chaat", zomatoPrice:60, swiggyPrice:65, img:"https://encrypted-tbn0.gstatic.com/images?q:GcS_93odyj_OHy3kpq2-cY75IoU_wZODGLuXxw&s", zomato:"https://www.zomato.com/coimbatore/delivery/dish-chaat", swiggy:"https://www.swiggy.com/city/coimbatore/chaat-dish-restaurants"},
  {name:"Paneer Tikka", zomatoPrice:150, swiggyPrice:155, img:"https://encrypted-tbn0.gstatic.com/images?q:GcS2o3PghexcMxeh3ac-TydunN9Rw4SyV8MCXg&s", zomato:"https://www.zomato.com/coimbatore/cafe-totaram-race-course/order", swiggy:"https://www.swiggy.com/city/coimbatore/paneer-tikka-dish-restaurants"},
  {name:"Dosa Platter", zomatoPrice:120, swiggyPrice:125, img:"https://media.istockphoto.com/id/1156896083/photo/cheese-masala-dosa-recipe-with-sambar-and-chutney-selective-focus.jpg?s=612x612&w=0&k=20&c=Wyy0uUGXfQn7JstC8w0DsxWJVGnqWUJUCG53a42UH9s=", zomato:"https://www.zomato.com/coimbatore/dosa-hub-1-peelamedu/order", swiggy:"https://www.swiggy.com/city/coimbatore/dosa-platter-dish-restaurants"},
  {name:"Chicken 65", zomatoPrice:140, swiggyPrice:145, img:"https://sinfullyspicy.com/wp-content/uploads/2021/10/1200-by-1200-images.jpg", zomato:"https://www.zomato.com/coimbatore/thymes-kitchen-saravanampatty/order", swiggy:"https://www.swiggy.com/city/coimbatore/chicken-65-dish-restaurants"},
  {name:"Aloo Gobi", zomatoPrice:110, swiggyPrice:115, img:"https://encrypted-tbn0.gstatic.com/images?q:GcTxIYPuN88HVK1c3xEp-JAJc6eGiSi36E94pQ&s", zomato:"https://www.zomato.com/coimbatore/sharma-punjabi-restaurant-saravanampatty/order", swiggy:"https://www.swiggy.com/city/coimbatore/aloo-gobi-dish-restaurants"},
  {name:"Mango Lassi", zomatoPrice:60, swiggyPrice:65, img:"https://www.yellowthyme.com/wp-content/uploads/2023/03/Mango-Lassi-08589.jpg", zomato:"https://www.zomato.com/coimbatore/lassi-club-saibaba-colony/order", swiggy:"https://www.swiggy.com/city/coimbatore/mango-lassi-dish-restaurants"},
  {name:"Prawn Biryani", zomatoPrice:190, swiggyPrice:195, img:"https://vismaifood.com/storage/app/uploads/public/0ae/185/cba/thumb__1200_0_0_0_auto.jpg", zomato:"https://www.zomato.com/coimbatore/biryani-com-peelamedu/order", swiggy:"https://www.swiggy.com/city/coimbatore/prawn-biryani-dish-restaurants"},
  {name:"Bhel Puri", zomatoPrice:50, swiggyPrice:55, img:"https://png.pngtree.com/thumb_back/fh260/background/20250607/pngtree-bhel-puri-indian-street-snack-with-puffed-rice-and-chutney-image_17403013.jpg", zomato:"https://www.zomato.com/coimbatore/babu-pani-puri-stall-rs-puram", swiggy:"https://www.swiggy.com/city/coimbatore/bhel-puri-dish-restaurants"},
  {name:"Methi Paratha", zomatoPrice:70, swiggyPrice:75, img:"https://aartimadan.com/wp-content/uploads/2021/01/Methi-Paratha.jpg", zomato:"https://www.zomato.com/coimbatore/goparatha-1-lakshmi-mills/order", swiggy:"https://www.swiggy.com/city/coimbatore/methi-paratha-dish-restaurants"},
  {name:"Mushroom Masala", zomatoPrice:130, swiggyPrice:135, img:"https://static.toiimg.com/photo/75534551.cms", zomato:"https://www.zomato.com/coimbatore/kaanchan-kitchens-rs-puram/order", swiggy:"https://www.swiggy.com/city/coimbatore/mushroom-masala-dish-restaurants"},
  {name:"Coconut Chutney", zomatoPrice:30, swiggyPrice:35, img:"https://encrypted-tbn0.gstatic.com/images?q:GcTUN_pedi5wSF2jRSP1K03NRfX4OmdJlToAcQ&s", zomato:"https://www.zomato.com/coimbatore/shero-home-food-chettinad-4-peelamedu/order", swiggy:"https://www.swiggy.com/city/coimbatore/coconut-chutney-dish-restaurants"}
];

let cardElements = [];
let isSwapping = false;

function loadMenu(searchTerm = '') {
  const menuDiv = document.getElementById("menuCards");
  menuDiv.innerHTML = ''; // Clear any existing content
  cardElements = []; // Reset card elements array
  
  const filteredFoods = searchTerm 
    ? foods.filter(food => food.name.toLowerCase().includes(searchTerm.toLowerCase()))
    : foods;
  
  filteredFoods.forEach((food, index) => {
    let priceDiff = food.zomatoPrice !== food.swiggyPrice ? `<span style="color:red;"> (‚Çπ${Math.abs(food.zomatoPrice-food.swiggyPrice)} difference)</span>` : "";
    const cardHtml = `
      <div class="card" style="--index: ${index};" data-index="${index}" data-name="${food.name}">
        <img src="${food.img}" alt="${food.name}">
        <h3>${food.name}</h3>
        <p>Zomato: ‚Çπ${food.zomatoPrice}</p>
        <p>Swiggy: ‚Çπ${food.swiggyPrice} ${priceDiff}</p>
        <button onclick="orderOnPlatform(event, '${food.zomato}', 'Zomato')">Order on Zomato</button>
        <button onclick="orderOnPlatform(event, '${food.swiggy}', 'Swiggy')">Order on Swiggy</button>
      </div>`;
    
    menuDiv.innerHTML += cardHtml;
  });
  
  setTimeout(() => {
    cardElements = Array.from(document.querySelectorAll('.card'));
    addTouchListeners();
  }, 100);
}

function filterMenu() {
  const searchTerm = document.getElementById('searchInput').value;
  loadMenu(searchTerm);
}

function clearSearch() {
  document.getElementById('searchInput').value = '';
  loadMenu();
}

function addTouchListeners() {
  cardElements.forEach((card, index) => {
    card.addEventListener('click', (e) => {
      if (e.target.tagName === 'BUTTON') return; // Don't trigger swap on button clicks
      if (isSwapping) return; // Prevent multiple swaps
      
      e.stopPropagation();
      swapCards(index);
    });
    
    card.addEventListener('touchstart', (e) => {
      if (e.target.tagName === 'BUTTON') return;
      card.classList.add('touched');
    });
    
    card.addEventListener('touchend', () => {
      card.classList.remove('touched');
    });
  });
}

function swapCards(clickedIndex) {
  if (isSwapping || cardElements.length < 2) return;
  
  isSwapping = true;
  showLoading(true);
  
  cardElements[clickedIndex].classList.add('swapping');
  
  let swapIndex = Math.floor(Math.random() * cardElements.length);
  while (swapIndex === clickedIndex) {
    swapIndex = Math.floor(Math.random() * cardElements.length);
  }
  
  const clickedCard = cardElements[clickedIndex];
  const swapCard = cardElements[swapIndex];
  
  const clickedDataIndex = parseInt(clickedCard.dataset.index);
  const swapDataIndex = parseInt(swapCard.dataset.index);
  
  [foods[clickedDataIndex], foods[swapDataIndex]] = [foods[swapDataIndex], foods[clickedDataIndex]];
  
  clickedCard.dataset.index = swapDataIndex;
  swapCard.dataset.index = clickedDataIndex;
  
  setTimeout(() => {
    clickedCard.classList.remove('swapping');
    loadMenu(document.getElementById('searchInput').value); // Preserve search term
    setTimeout(() => {
      showLoading(false);
      isSwapping = false;
    }, 500);
  }, 600);
}

function showLoading(show) {
  const loadingOverlay = document.getElementById('loadingOverlay');
  if (show) {
    loadingOverlay.classList.add('show');
  } else {
    loadingOverlay.classList.remove('show');
  }
}

function orderOnPlatform(event, url, platform) {
  event.stopPropagation();
  window.open(url, '_blank');
}

function logout(){
  window.location.href = "login.html";
}

window.onload = () => loadMenu();
</script>

</body>
</html>
